"use strict";var resvg=(()=>{var y=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var j=Object.prototype.hasOwnProperty;var U=(t,e)=>{for(var n in e)y(t,n,{get:e[n],enumerable:!0})},M=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of S(e))!j.call(t,s)&&s!==n&&y(t,s,{get:()=>e[s],enumerable:!(i=I(e,s))||i.enumerable});return t};var C=t=>M(y({},"__esModule",{value:!0}),t);var G={};U(G,{Resvg:()=>J,initWasm:()=>q});var r,T=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&T.decode();var b=null;function d(){return(b===null||b.byteLength===0)&&(b=new Uint8Array(r.memory.buffer)),b}function l(t,e){return t=t>>>0,T.decode(d().subarray(t,t+e))}function W(t){let e=r.__externref_table_alloc();return r.__wbindgen_export_2.set(e,t),e}function D(t,e){try{return t.apply(this,e)}catch(n){let i=W(n);r.__wbindgen_exn_store(i)}}var u=0,p=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},P=typeof p.encodeInto=="function"?function(t,e){return p.encodeInto(t,e)}:function(t,e){let n=p.encode(t);return e.set(n),{read:t.length,written:n.length}};function m(t,e,n){if(n===void 0){let o=p.encode(t),f=e(o.length,1)>>>0;return d().subarray(f,f+o.length).set(o),u=o.length,f}let i=t.length,s=e(i,1)>>>0,c=d(),_=0;for(;_<i;_++){let o=t.charCodeAt(_);if(o>127)break;c[s+_]=o}if(_!==i){_!==0&&(t=t.slice(_)),s=n(s,i,i=_+t.length*3,1)>>>0;let o=d().subarray(s+_,s+i),f=P(t,o);_+=f.written,s=n(s,i,_,1)>>>0}return u=_,s}function x(t){return t==null}var a=null;function R(){return(a===null||a.buffer.detached===!0||a.buffer.detached===void 0&&a.buffer!==r.memory.buffer)&&(a=new DataView(r.memory.buffer)),a}function g(t){let e=r.__wbindgen_export_2.get(t);return r.__externref_table_dealloc(t),e}function L(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}var A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_bbox_free(t>>>0,1)),w=class t{static __wrap(e){e=e>>>0;let n=Object.create(t.prototype);return n.__wbg_ptr=e,A.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,A.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_bbox_free(e,0)}get x(){return r.__wbg_get_bbox_x(this.__wbg_ptr)}set x(e){r.__wbg_set_bbox_x(this.__wbg_ptr,e)}get y(){return r.__wbg_get_bbox_y(this.__wbg_ptr)}set y(e){r.__wbg_set_bbox_y(this.__wbg_ptr,e)}get width(){return r.__wbg_get_bbox_width(this.__wbg_ptr)}set width(e){r.__wbg_set_bbox_width(this.__wbg_ptr,e)}get height(){return r.__wbg_get_bbox_height(this.__wbg_ptr)}set height(e){r.__wbg_set_bbox_height(this.__wbg_ptr,e)}},B=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_renderedimage_free(t>>>0,1)),v=class t{static __wrap(e){e=e>>>0;let n=Object.create(t.prototype);return n.__wbg_ptr=e,B.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,B.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_renderedimage_free(e,0)}get width(){return r.renderedimage_width(this.__wbg_ptr)>>>0}get height(){return r.renderedimage_height(this.__wbg_ptr)>>>0}asPng(){let e=r.renderedimage_asPng(this.__wbg_ptr);if(e[2])throw g(e[1]);return g(e[0])}get pixels(){return r.renderedimage_pixels(this.__wbg_ptr)}},F=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_resvg_free(t>>>0,1)),h=class{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,F.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_resvg_free(e,0)}constructor(e,n,i){var s=x(n)?0:m(n,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;let _=r.resvg_new(e,s,c,x(i)?0:W(i));if(_[2])throw g(_[1]);return this.__wbg_ptr=_[0]>>>0,F.register(this,this.__wbg_ptr,this),this}get width(){return r.resvg_width(this.__wbg_ptr)}get height(){return r.resvg_height(this.__wbg_ptr)}render(){let e=r.resvg_render(this.__wbg_ptr);if(e[2])throw g(e[1]);return v.__wrap(e[0])}toString(){let e,n;try{let i=r.resvg_toString(this.__wbg_ptr);return e=i[0],n=i[1],l(i[0],i[1])}finally{r.__wbindgen_free(e,n,1)}}innerBBox(){let e=r.resvg_innerBBox(this.__wbg_ptr);return e===0?void 0:w.__wrap(e)}getBBox(){let e=r.resvg_getBBox(this.__wbg_ptr);return e===0?void 0:w.__wrap(e)}cropByBBox(e){L(e,w),r.resvg_cropByBBox(this.__wbg_ptr,e.__wbg_ptr)}imagesToResolve(){let e=r.resvg_imagesToResolve(this.__wbg_ptr);if(e[2])throw g(e[1]);return g(e[0])}resolveImage(e,n){let i=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),s=u,c=r.resvg_resolveImage(this.__wbg_ptr,i,s,n);if(c[1])throw g(c[0])}};async function N(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(i){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}let n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{let n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function V(){let t={};return t.wbg={},t.wbg.__wbg_buffer_609cc3eee51ed158=function(e){return e.buffer},t.wbg.__wbg_done_769e5ede4b31c67b=function(e){return e.done},t.wbg.__wbg_instanceof_Uint8Array_17156bcf118086a9=function(e){let n;try{n=e instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_length_a446193dc22c12f8=function(e){return e.length},t.wbg.__wbg_new_78feb108b6472713=function(){return new Array},t.wbg.__wbg_new_a12002a7f91c75be=function(e){return new Uint8Array(e)},t.wbg.__wbg_new_c68d7209be747379=function(e,n){return new Error(l(e,n))},t.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(e,n,i){return new Uint8Array(e,n>>>0,i>>>0)},t.wbg.__wbg_next_6574e1a8a62d1055=function(){return D(function(e){return e.next()},arguments)},t.wbg.__wbg_push_737cfc8c1432c2c6=function(e,n){return e.push(n)},t.wbg.__wbg_set_65595bdd868b3009=function(e,n,i){e.set(n,i>>>0)},t.wbg.__wbg_value_cd1ffa7b1ab794f1=function(e){return e.value},t.wbg.__wbg_values_99f7a68c7f313d66=function(e){return e.values()},t.wbg.__wbindgen_init_externref_table=function(){let e=r.__wbindgen_export_2,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t.wbg.__wbindgen_memory=function(){return r.memory},t.wbg.__wbindgen_string_get=function(e,n){let i=n,s=typeof i=="string"?i:void 0;var c=x(s)?0:m(s,r.__wbindgen_malloc,r.__wbindgen_realloc),_=u;R().setInt32(e+4*1,_,!0),R().setInt32(e+4*0,c,!0)},t.wbg.__wbindgen_string_new=function(e,n){return l(e,n)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(l(e,n))},t}function k(t,e){return r=t.exports,E.__wbindgen_wasm_module=e,a=null,b=null,r.__wbindgen_start(),r}async function E(t){if(r!==void 0)return r;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("index_bg.wasm",void 0));let e=V();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));let{instance:n,module:i}=await N(await t,e);return k(n,i)}var z=E;var O=!1,q=async t=>{if(O)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await z(await t),O=!0},J=class extends h{constructor(t,e){if(!O)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");let n=e?.font;if(n&&$(n)){let i={...e,font:{...n,fontBuffers:void 0}};super(t,JSON.stringify(i),n.fontBuffers)}else super(t,JSON.stringify(e))}};function $(t){return Object.prototype.hasOwnProperty.call(t,"fontBuffers")}return C(G);})();
